<!DOCTYPE html>



  



<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="acm," />





  <link rel="alternate" href="/atom.xml" title="Clannad" type="application/atom+xml" />






<meta name="description" content="A    Choosing Ice Creamare standing in the supermarket in front of the freezers. You have a very tough task ahead of you: you have to choose what type of ice cream you want for after dinner that eveni">
<meta name="keywords" content="acm">
<meta property="og:type" content="article">
<meta property="og:title" content="summer vacation acm first day">
<meta property="og:url" content="http://yoursite.com/2018/07/07/summer-vacation-acm-first-day/index.html">
<meta property="og:site_name" content="Clannad">
<meta property="og:description" content="A    Choosing Ice Creamare standing in the supermarket in front of the freezers. You have a very tough task ahead of you: you have to choose what type of ice cream you want for after dinner that eveni">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-07-08T01:03:42.336Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="summer vacation acm first day">
<meta name="twitter:description" content="A    Choosing Ice Creamare standing in the supermarket in front of the freezers. You have a very tough task ahead of you: you have to choose what type of ice cream you want for after dinner that eveni">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/07/07/summer-vacation-acm-first-day/"/>





  <title>summer vacation acm first day | Clannad</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

<a github="https://github.com/you"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Clannad</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">my blog</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/07/summer-vacation-acm-first-day/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Clannad">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/noface.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Clannad">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">summer vacation acm first day</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-07T22:29:41+08:00">
                2018-07-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/acm/" itemprop="url" rel="index">
                    <span itemprop="name">acm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="A-Choosing-Ice-Cream"><a href="#A-Choosing-Ice-Cream" class="headerlink" title="A    Choosing Ice Cream"></a>A    Choosing Ice Cream</h1><figure class="highlight plain"><figcaption><span>are standing in the supermarket in front of the freezers. You have a very tough task ahead of you: you have to choose what type of ice cream you want for after dinner that evening. After a while, you give up: they are all awesome! Instead, you take your (fair) k-sided die out of your pocket and you decide to let fate decide.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Of course, the number of ice cream choices, n, may not be precisely k, in which case you could not just throw the die once, rolling i, and take the ith ice cream choice. You therefore have to use some algorithm that involves zero or more die throws that results in an ice cream choice with every choice being exactly equally likely. Being a good computer scientist, you know about the accept-reject method, which would let you make such a fair choice.</span><br><span class="line">At that point, you remember that you have a very important</span><br><span class="line">competition to attend that same afternoon. You absolutely cannot afford to be late for that competition. Because of this, you decide	Example: For n = 4 and k = 20 one throw is enough.</span><br><span class="line">you cannot use the accept-reject method, as there may be no bound on the number of die throws needed to ensure a fair result, so you may end up standing there for a long time and miss the competition! Instead, you resolve to find an algorithm that is fair and uses as few dice choices as possible in the worst case.</span><br><span class="line">Given n and k, can you determine the minimum number i such that there is a fair algorithm that uses at most i die throws per execution?</span><br></pre></td></tr></table></figure>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">On the first line one positive number: the number of test cases, at most 100. After that per test case:</span><br><span class="line">• one line with two space-separated integers n and k (1 ≤ n,k ≤ 109): the number of ice cream choices and the number of sides of your die, respectively.</span><br></pre></td></tr></table></figure>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Per test case:</span><br><span class="line">• one line with a single integer: the smallest number of throws after which you are guaranteed to be able to make a fair choice. If there is no such number, print “unbounded” instead.</span><br></pre></td></tr></table></figure>
<p>#Sample in- and output<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">4 2</span><br><span class="line">2 4</span><br><span class="line">3 2	</span><br><span class="line">Output</span><br><span class="line">2 </span><br><span class="line">1 </span><br><span class="line">unbounded</span><br></pre></td></tr></table></figure></p>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">取出冰激凌和骰子面的最大公因数，相当于将冰激凌分成的份数与骰子分成的面数相同，之后冰激凌a/=gcd（a，b）最终判断a是否等于1判断是否存在答案，而a=1时要特判，答案为0</span><br></pre></td></tr></table></figure>
<h1 id="我的代码"><a href="#我的代码" class="headerlink" title="我的代码"></a>我的代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#define ll long long</span><br><span class="line">using namespace std;</span><br><span class="line">const int N = 2e5+10;</span><br><span class="line">int gcd(int a,int b)&#123;</span><br><span class="line">        return b==0?a:gcd(b,a%b);</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int t,a,b;</span><br><span class="line">    int ans;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;t);</span><br><span class="line">    while(t--)&#123;</span><br><span class="line">        scanf(&quot;%d%d&quot;,&amp;a,&amp;b);</span><br><span class="line">        ans=0;</span><br><span class="line">        if(a==1)&#123;                                cout&lt;&lt;0&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            while(a!=1)&#123;</span><br><span class="line">                int k=gcd(a,b);</span><br><span class="line">                if(k==1) break;</span><br><span class="line">                a/=k;ans++;</span><br><span class="line">            &#125;</span><br><span class="line">            if(a!=1)</span><br><span class="line">                    cout&lt;&lt;&quot;unbounded&quot;&lt;&lt;endl;</span><br><span class="line">            else&#123;</span><br><span class="line">                    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="标程"><a href="#标程" class="headerlink" title="标程"></a>标程</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">int gcd (int a, int b)</span><br><span class="line">&#123; return b ? gcd(b, a%b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;	int runs, run, n, k, t;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;runs);</span><br><span class="line">	for (run = 0; run &lt; runs; run++)</span><br><span class="line">	&#123;	scanf(&quot;%d %d&quot;, &amp;n, &amp;k);</span><br><span class="line">		for (t = 0; n &gt; 1 &amp;&amp; k &gt; 1; t++)</span><br><span class="line">		&#123; k = gcd(n, k);</span><br><span class="line">		  n /= k;</span><br><span class="line">		&#125;</span><br><span class="line">		if (n &gt; 1)</span><br><span class="line">			printf(&quot;unbounded\n&quot;);</span><br><span class="line">		else</span><br><span class="line">			printf(&quot;%d\n&quot;, t);</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="B-Failing-Components"><a href="#B-Failing-Components" class="headerlink" title="B    Failing Components"></a>B    Failing Components</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">As a jury member of the Best Architectural Planning Contest, you are tasked with scoring the reliability of a system. All systems entered in the contest consist of a number of components which depend on each other. The reliability of such a system depends on the damage done by a failing component. Ideally a failing component should have no consequences, but since most components depend on each other, some other components will usually fail as well.</span><br><span class="line">Most components are somewhat resilient to short failures of the components they depend on. For example, a database could be unavailable for a minute before the caches expire and new data must be retrieved from the database. In this case, the caches can survive for a minute after a database failure, before failing themselves. If a component depends on multiple other components which fail, it will fail as soon as it can no longer survive the failure of at least one of the components it depends on. Furthermore no component depends on itself directly, however indirect self-dependency through other components is possible.</span><br><span class="line">You want to know how many components will fail when a certain component fails, and how much time passes before all components that will eventually fail, actually fail. This is difficult to calculate by hand, so you decided to write a program to help you. Given the description of the system, and the initial component that fails, the program should report how many components will fail in total, and how much time passes before all those components have actually failed.</span><br></pre></td></tr></table></figure>
<h1 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">On the first line one positive number: the number of test cases, at most 100. After that per test case:</span><br><span class="line">•	one line with three space-separated integers n, d and c (1 ≤ n ≤ 10000 and 1 ≤ d ≤ 100000 and 1 ≤ c ≤ n): the total number of components in the system, the number of dependencies between components, and the initial component that fails, respectively.</span><br><span class="line">•	d lines with three space-separated integers a, b and s (1 ≤ a,b ≤ n and a 6= b and 0 ≤ s ≤ 1000), indicating that component a depends on component b, and can survive for s seconds when component b fails.</span><br><span class="line">In each test case, all dependencies (a,b) are unique.</span><br></pre></td></tr></table></figure>
<h1 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Per test case:</span><br><span class="line">• one line with two space-separated integers: the total number of components that will fail, and the number of seconds before all components that will fail, have actually failed.</span><br></pre></td></tr></table></figure>
<h1 id="Sample-in-and-output"><a href="#Sample-in-and-output" class="headerlink" title="Sample in- and output"></a>Sample in- and output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Input	</span><br><span class="line">2</span><br><span class="line">3 2 2</span><br><span class="line">2 1 5</span><br><span class="line">3 2 5</span><br><span class="line">3 3 1</span><br><span class="line">2 1 2</span><br><span class="line">3 1 8</span><br><span class="line">3 2 4</span><br><span class="line">Output</span><br><span class="line">2 5</span><br><span class="line">3 6</span><br></pre></td></tr></table></figure>
<h1 id="题目意思和解题思路"><a href="#题目意思和解题思路" class="headerlink" title="题目意思和解题思路"></a>题目意思和解题思路</h1><p>给出初始坏的部件，求与之直接或间接相关的部件所有坏掉所需的时间，直接看成一个图，有向边代表依赖关系，所以直接对该图求最短路，然后遍历dist[]，找出最大的值就是答案，而坏掉的部件就是dist[]中不等于INF的个数</p>
<h1 id="我的代码-1"><a href="#我的代码-1" class="headerlink" title="我的代码"></a>我的代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">#define ll long long</span><br><span class="line">const int INF=0x3f3f3f3f;</span><br><span class="line">#define mem(a) memset(a,0,sizeof(a))</span><br><span class="line">const double Pi=acos(-1);</span><br><span class="line">#define log8(x) log10(x)/log10(8.0)</span><br><span class="line">priority_queue&lt;pair&lt;int ,int&gt;&gt;s;</span><br><span class="line">struct Edge</span><br><span class="line">&#123;</span><br><span class="line">        int v,next,w;</span><br><span class="line">&#125;edge[1005505];</span><br><span class="line">int edgeNum;</span><br><span class="line">int head[10010];</span><br><span class="line">void addedge(int u,int v,int w)  ///加从u-&gt;v的边</span><br><span class="line">&#123;</span><br><span class="line">        edge[edgeNum].v=v;</span><br><span class="line">        edge[edgeNum].next=head[u];</span><br><span class="line">        edge[edgeNum].w=w;</span><br><span class="line">        head[u]=edgeNum++;</span><br><span class="line">&#125;</span><br><span class="line">int dist[10010];</span><br><span class="line">int vis[10010];</span><br><span class="line">int n,d,c,u,v,w;</span><br><span class="line">void dijkstra(int c)</span><br><span class="line">&#123;</span><br><span class="line">    memset(dist,0x3f,sizeof(dist));</span><br><span class="line">    mem(vis);</span><br><span class="line">    dist[c]=0;</span><br><span class="line">    s.push(make_pair(0,c));</span><br><span class="line">    while(s.size())</span><br><span class="line">    &#123;</span><br><span class="line">        int x=s.top().second;</span><br><span class="line">        s.pop();</span><br><span class="line">        if(vis[x]) continue;</span><br><span class="line">        vis[x]=1;</span><br><span class="line">        for(int i=head[x];i!=-1;i=edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            int y=edge[i].v,z=edge[i].w;</span><br><span class="line">            if(dist[y]&gt;dist[x]+z)</span><br><span class="line">            &#123;</span><br><span class="line">                    dist[y]=dist[x]+z;</span><br><span class="line">                    s.push(make_pair(-dist[y],y));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int t;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;t);</span><br><span class="line">    int ans,sum;</span><br><span class="line">    while(t--)</span><br><span class="line">        &#123;</span><br><span class="line">        sum=0;</span><br><span class="line">        ans=0;</span><br><span class="line">        scanf(&quot;%d%d%d&quot;,&amp;n,&amp;d,&amp;c);</span><br><span class="line">        memset(head,-1,sizeof(head));</span><br><span class="line">        for(int i=0;i&lt;d;i++)</span><br><span class="line">        &#123;</span><br><span class="line">                scanf(&quot;%d%d%d&quot;,&amp;v,&amp;u,&amp;w);</span><br><span class="line">                addedge(u,v,w);</span><br><span class="line">        &#125;</span><br><span class="line">        dijkstra(c);</span><br><span class="line">        for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">            if(dist[i]==INF)&#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                ans=max(ans,dist[i]);</span><br><span class="line">                sum++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;sum&lt;&lt;&quot; &quot;&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="D-Lift-Problems"><a href="#D-Lift-Problems" class="headerlink" title="D    Lift Problems"></a>D    Lift Problems</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">On the ground floor (floor zero) of a large university building a number of students are waiting for a lift. Normally, the lift stops at every floor where one or more students need to get out, but that is annoying for the students who want to get out on a higher floor. Alternatively, the lift could skip some floors, but that is annoying for the students who wanted to get out on one of those floors.</span><br><span class="line">Specifically, a student will be annoyed on every floor where the lift stops, if the lift has not yet reached the floor on which he or she wants to get out. If the lift skips the floor on which a student wants to get out, he or she will be annoyed on that floor and every higher floor, up to (and excluding) the floor where the lift makes its next stop and the student can finally get out to start walking back down the stairs to his or her destination.</span><br><span class="line">For example, if a student wants to get out on the fifth floor, while the lift stops at the second, seventh and tenth floor, the student will be annoyed on floors two, five and six. In total, this student will thus be annoyed on three floors.</span><br><span class="line">Upon entering the lift, every student presses the button corresponding to the floor he or she wants to go to, even if it was already pressed by someone else. The CPU controlling the lift thus gets to know exactly how many students want to get out on every floor.</span><br><span class="line">You are charged with programming the CPU to decide on which floors to stop. The goal is to minimize the total amount of lift anger: that is, the number of floors on which every student is annoyed, added together for all students.</span><br><span class="line">You may ignore all the people who may (want to) enter the lift at any higher floor. The lift has to operate in such a way that every student waiting at the ground floor can reach the floor she or he wants to go to by either getting out at that floor or by walking down the stairs.</span><br></pre></td></tr></table></figure>
<h1 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">On the first line one positive number: the number of test cases, at most 100. After that per test case:</span><br><span class="line">•	one line with a single integer n (1 ≤ n ≤ 1500): the number of floors of the building, excluding the ground floor.</span><br><span class="line">•	one line with n space-separated integers si (0 ≤ si ≤ 1500): for each floor i, the number of students si that want to get out.</span><br></pre></td></tr></table></figure>
<h1 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Per test case:</span><br><span class="line">• one line with a single integer: the smallest possible total amount of lift anger.</span><br><span class="line">Problem D: Lift Problems</span><br></pre></td></tr></table></figure>
<h1 id="Sample-in-and-output-1"><a href="#Sample-in-and-output-1" class="headerlink" title="Sample in- and output"></a>Sample in- and output</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">0 3 0 0 7</span><br><span class="line">5</span><br><span class="line">0 0 3 0 7</span><br><span class="line">10</span><br><span class="line">3 1 4 1 5 9 2 6 5 3	</span><br><span class="line">Output</span><br><span class="line">7</span><br><span class="line">6</span><br><span class="line">67</span><br></pre></td></tr></table></figure>
<h1 id="解题思路-1"><a href="#解题思路-1" class="headerlink" title="解题思路"></a>解题思路</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">题目意思求怒气值，以第一组样例来解释，到达第二层楼的同学有三名，到达5楼的同学有7名，如果设置2楼停，那么想到达5楼的7个同学怒气值增加，每人增加1，之后在上升，而如果是只在5楼停，那么想到达二楼的同学，会在3，4，5层增加怒气值，然后在5楼通过楼梯走到2楼（同学只能往下走，不能往上走）,最终怒气值为9，这道题就是求怎么使得怒气值最小，样例一显然为7</span><br><span class="line">样例二选择只在5楼停，那么怒气值为6，最小</span><br><span class="line">该题显然是个动态规划题，通过dp[i]，意思是当在i楼时的最小怒气值</span><br></pre></td></tr></table></figure>
<h1 id="我的代码-2"><a href="#我的代码-2" class="headerlink" title="我的代码"></a>我的代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">#include&lt;stack&gt;</span><br><span class="line">#define ll long long</span><br><span class="line">const int m=1e9+10;</span><br><span class="line">using namespace std;</span><br><span class="line">const int N = 2e5+10;</span><br><span class="line">int a[1550];</span><br><span class="line">int su[1550];</span><br><span class="line">int dp[1550];</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int t,n;</span><br><span class="line">    int ans;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;t);</span><br><span class="line">    while(t--)&#123;</span><br><span class="line">        memset(su,0,sizeof(su));</span><br><span class="line">        memset(dp,0,sizeof(dp));</span><br><span class="line">        scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">        for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">            scanf(&quot;%d&quot;,&amp;a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        for(int i=n;i&gt;=1;i--)&#123;</span><br><span class="line">            su[i]=su[i+1]+a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        dp[0]=0;</span><br><span class="line">        for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">            int temp=0;</span><br><span class="line">            dp[i]=m;</span><br><span class="line">            for(int j=i-1;j&gt;=0;j--)&#123;</span><br><span class="line">                dp[i]=min(dp[i],dp[j]+temp+su[i+1]);</span><br><span class="line">                temp+=(i-j)*a[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;dp[n]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="标程-1"><a href="#标程-1" class="headerlink" title="标程"></a>标程</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">// Solution to Lift Problems</span><br><span class="line">// Author: Thomas Beuman</span><br><span class="line"></span><br><span class="line">// Time complexity: O(n^2)</span><br><span class="line">// Memory: O(n)</span><br><span class="line"></span><br><span class="line">// @EXPECTED_RESULTS@: CORRECT</span><br><span class="line"></span><br><span class="line">// Solution method: Dynamic programming</span><br><span class="line"></span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int nmax = 1500;</span><br><span class="line"></span><br><span class="line">const int infty = 1&lt;&lt;30;</span><br><span class="line"></span><br><span class="line">int S[nmax+1];</span><br><span class="line">int Anger[nmax+1]; // Anger[i] = minimum total anger when lift stops at floor i</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;	int runs, run, n, i, j, skipanger, students;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;runs);</span><br><span class="line">	for (run = 0; run &lt; runs; run++)</span><br><span class="line">	&#123;</span><br><span class="line">		// Read input</span><br><span class="line">		scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">		for (i = 1; i &lt;= n; i++)</span><br><span class="line">			scanf(&quot;%d&quot;, &amp;S[i]);</span><br><span class="line"></span><br><span class="line">		// Count total number of students</span><br><span class="line">		students = 0;</span><br><span class="line">		for (i = 1; i &lt;= n; i++)</span><br><span class="line">			students += S[i];</span><br><span class="line"></span><br><span class="line">		// Dynamic programming</span><br><span class="line">		Anger[0] = 0;</span><br><span class="line">		for (i = 1; i &lt;= n; i++)</span><br><span class="line">		&#123;	students -= S[i]; // Number of students that want to go higher</span><br><span class="line">			skipanger = 0;</span><br><span class="line">			Anger[i] = infty;</span><br><span class="line">			// Try all possible previous stops</span><br><span class="line">			for (j = i-1; j &gt;= 0; j--)</span><br><span class="line">			&#123;	Anger[i] = min(Anger[i], Anger[j] + skipanger + students);</span><br><span class="line">				skipanger += (i-j)*S[j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		// Print answer</span><br><span class="line">		printf(&quot;%d\n&quot;, Anger[n]);</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/acm/" rel="tag"># acm</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/07/02/saomiaoxian-xianduanshu/" rel="next" title="saomiaoxian xianduanshu">
                <i class="fa fa-chevron-left"></i> saomiaoxian xianduanshu
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/noface.png"
                alt="Clannad" />
            
              <p class="site-author-name" itemprop="name">Clannad</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yourname" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#A-Choosing-Ice-Cream"><span class="nav-number">1.</span> <span class="nav-text">A    Choosing Ice Cream</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Input"><span class="nav-number">2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Output"><span class="nav-number">3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#解题思路"><span class="nav-number">4.</span> <span class="nav-text">解题思路</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#我的代码"><span class="nav-number">5.</span> <span class="nav-text">我的代码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#标程"><span class="nav-number">6.</span> <span class="nav-text">标程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#B-Failing-Components"><span class="nav-number">7.</span> <span class="nav-text">B    Failing Components</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Input-1"><span class="nav-number">8.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Output-1"><span class="nav-number">9.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sample-in-and-output"><span class="nav-number">10.</span> <span class="nav-text">Sample in- and output</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#题目意思和解题思路"><span class="nav-number">11.</span> <span class="nav-text">题目意思和解题思路</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#我的代码-1"><span class="nav-number">12.</span> <span class="nav-text">我的代码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#D-Lift-Problems"><span class="nav-number">13.</span> <span class="nav-text">D    Lift Problems</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Input-2"><span class="nav-number">14.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Output-2"><span class="nav-number">15.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Sample-in-and-output-1"><span class="nav-number">16.</span> <span class="nav-text">Sample in- and output</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#解题思路-1"><span class="nav-number">17.</span> <span class="nav-text">解题思路</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#我的代码-2"><span class="nav-number">18.</span> <span class="nav-text">我的代码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#标程-1"><span class="nav-number">19.</span> <span class="nav-text">标程</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>




    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Clannad</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    


  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
